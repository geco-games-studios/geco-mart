{% extends 'base.html' %}
{% load static %}

{% block title %}Geco Mart - Your Products{% endblock %}

{% block content %}
<section class="py-12">
    <div class="container mx-auto px-4">
        <h1 class="text-3xl font-bold mb-8">Checkout</h1>
        
        <div class="flex flex-col lg:flex-row gap-8">
            <!-- Checkout Form -->
            <div class="lg:w-2/3">
                <div class="bg-white rounded-lg shadow-md overflow-hidden mb-6">
                    <div class="p-6">
                        <h2 class="text-xl font-semibold mb-4">Shipping Information</h2>
                        
                        <form>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">First Name *</label>
                                    <input type="text" class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Last Name *</label>
                                    <input type="text" class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Email Address *</label>
                                    <input type="email" class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Phone Number *</label>
                                    <input type="tel" class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" required>
                                </div>
                                <div class="md:col-span-2">
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Address Line 1 *</label>
                                    <input type="text" class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" required>
                                </div>
                                <div class="md:col-span-2">
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Address Line 2</label>
                                    <input type="text" class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">City *</label>
                                    <input type="text" class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">State/Province *</label>
                                    <input type="text" class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Postal Code *</label>
                                    <input type="text" class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Country *</label>
                                    <select class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" required>
                                        <option value="">Select Country</option>
                                        <option value="US">United States</option>
                                        <option value="CA">Canada</option>
                                        <option value="UK">United Kingdom</option>
                                        <option value="AU">Australia</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="mb-6">
                                <label class="flex items-center">
                                    <input type="checkbox" class="rounded text-primary focus:ring-primary">
                                    <span class="ml-2 text-sm text-gray-700">Ship to a different address?</span>
                                </label>
                            </div>
                            
                            <div class="mb-6">
                                <label class="block text-sm font-medium text-gray-700 mb-1">Order Notes (optional)</label>
                                <textarea rows="4" class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" placeholder="Notes about your order, e.g. special delivery instructions"></textarea>
                            </div>
                        </form>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg shadow-md overflow-hidden mb-6">
                    <div class="p-6">
                        <h2 class="text-xl font-semibold mb-4">Payment Method</h2>
                        
                        <div class="space-y-4">
                            <div class="border rounded p-4">
                                <label class="flex items-center">
                                    <input type="radio" name="payment" value="credit-card" class="text-primary focus:ring-primary" checked>
                                    <span class="ml-2 font-medium">Credit Card</span>
                                </label>
                                
                                <div class="mt-4 pl-6">
                                    <div class="flex space-x-2 mb-4">
                                        <i class="fab fa-cc-visa text-2xl text-blue-700"></i>
                                        <i class="fab fa-cc-mastercard text-2xl text-red-500"></i>
                                        <i class="fab fa-cc-amex text-2xl text-blue-500"></i>
                                        <i class="fab fa-cc-discover text-2xl text-orange-500"></i>
                                    </div>
                                    
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div class="md:col-span-2">
                                            <label class="block text-sm font-medium text-gray-700 mb-1">Card Number *</label>
                                            <input type="text" class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" placeholder="1234 5678 9012 3456" required>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-1">Expiry Date *</label>
                                            <input type="text" class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" placeholder="MM/YY" required>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-1">CVV *</label>
                                            <input type="text" class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" placeholder="123" required>
                                        </div>
                                        <div class="md:col-span-2">
                                            <label class="block text-sm font-medium text-gray-700 mb-1">Name on Card *</label>
                                            <input type="text" class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-primary" required>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="border rounded p-4">
                                <label class="flex items-center">
                                    <input type="radio" name="payment" value="paypal" class="text-primary focus:ring-primary">
                                    <span class="ml-2 font-medium">PayPal</span>
                                    <i class="fab fa-paypal text-blue-800 ml-2"></i>
                                </label>
                            </div>
                            
                            <div class="border rounded p-4">
                                <label class="flex items-center">
                                    <input type="radio" name="payment" value="apple-pay" class="text-primary focus:ring-primary">
                                    <span class="ml-2 font-medium">Apple Pay</span>
                                    <i class="fab fa-apple-pay ml-2"></i>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Order Summary -->
            <div class="lg:w-1/3">
                <div class="bg-white rounded-lg shadow-md overflow-hidden sticky top-6">
                    <div class="p-6">
                        <h2 class="text-xl font-semibold mb-4">Order Summary</h2>
                        
                        <div class="border-b pb-4 mb-4">
                            <div class="space-y-3">
                                <div class="flex justify-between">
                                    <span>Premium Wireless Headphones</span>
                                    <span>$129.99</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>Portable Bluetooth Speaker</span>
                                    <span>$69.99</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>Wireless Earbuds with Charging Case</span>
                                    <span>$89.99</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="space-y-3 mb-6">
                            <div class="flex justify-between">
                                <span class="text-gray-600">Subtotal</span>
                                <span>$289.97</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600">Shipping</span>
                                <span>$10.00</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-600">Tax</span>
                                <span>$24.00</span>
                            </div>
                            <div class="border-t pt-3 mt-3">
                                <div class="flex justify-between font-bold">
                                    <span>Total</span>
                                    <span class="text-primary">$323.97</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Place Order Button -->
                        <button type="submit" class="block bg-primary text-white text-center px-6 py-3 rounded-lg font-semibold hover:bg-green-700 transition w-full">
                            Place Order
                        </button>
                        
                        <p class="text-xs text-gray-600 mt-4">
                            By placing your order, you agree to our <a href="#" class="text-primary hover:underline">Terms of Service</a> and <a href="#" class="text-primary hover:underline">Privacy Policy</a>.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
       // Mobile menu toggle
       document.getElementById('menuToggle').addEventListener('click', function() {
        const mobileMenu = document.getElementById('mobileMenu');
        mobileMenu.classList.toggle('hidden');
    });

    // Place order button
    const placeOrderBtn = document.querySelector('.bg-primary.text-white.text-center.px-6.py-3');
    placeOrderBtn.addEventListener('click', function(e) {
        e.preventDefault();
        
        // Simple form validation
        const requiredInputs = document.querySelectorAll('input[required]');
        let isValid = true;
        
        requiredInputs.forEach(input => {
            if (!input.value.trim()) {
                input.classList.add('border-red-500');
                isValid = false;
            } else {
                input.classList.remove('border-red-500');
            }
        });
        
        if (isValid) {
            // Show success message
            showNotification('Order placed successfully! Redirecting to confirmation page...');
            
            // Redirect to confirmation page after 2 seconds
            setTimeout(() => {
                window.location.href = 'order-confirmation.html';
            }, 2000);
        } else {
            showNotification('Please fill in all required fields', 'error');
        }
    });

    // Notification function
    function showNotification(message, type = 'success') {
        const notification = document.createElement('div');
        notification.className = `fixed bottom-4 right-4 px-4 py-2 rounded shadow-lg transition-opacity duration-300 ${type === 'success' ? 'bg-green-500 text-white' : 'bg-red-500 text-white'}`;
        notification.textContent = message;
        document.body.appendChild(notification);
        
        setTimeout(() => {
            notification.style.opacity = '0';
            setTimeout(() => {
                document.body.removeChild(notification);
            }, 300);
        }, 3000);
    } 
</script>
{% endblock %}